<form action="https://everify.bdris.gov.bd/UBRNVerification/Search" enctype="multipart/form-data" id="ubrnsearchform"
    method="post" novalidate="novalidate"><input name="__RequestVerificationToken" type="hidden" value="">
    <div>
        <div class="form-group">
            <label for="ubrn">Birth Registration Number:</label>
            <input autocomplete="off" class="form-control" data-val="true" data-val-regex="17 digits only"
                data-val-regex-pattern="[0-9]{17}" data-val-required="required" id="ubrn" name="UBRN"
                oncopy="return false" onpaste="return false" type="number" value="">
            <span class="field-validation-valid text-danger" data-valmsg-for="UBRN" data-valmsg-replace="true"></span>

        </div>
        <div class="form-group">
            <label for="BirthDate">Date of Birth (YYYY-MM-dd):</label><br>
            <input class="datepicker text-box single-line hasDatepicker" data-val="true"
                data-val-date="The field BirthDate must be a date." data-val-regex="Expected format: yyyy-MM-dd only"
                data-val-regex-pattern="^\d{4}\-(0[1-9]|1[012])\-(0[1-9]|[12][0-9]|3[01])$" data-val-required="required"
                id="BirthDate" name="BirthDate" type="datetime" value="">
            <span class="field-validation-valid text-danger  " data-valmsg-for="BirthDate"
                data-valmsg-replace="true"></span>

        </div>

        <div class="form-group">
            <img id="CaptchaImage"
                src=".https://everify.bdris.gov.bd/DefaultCaptcha/Generate?t=ce5aecaf89dd456881cf84766f47d126">
            <input id="CaptchaDeText" name="CaptchaDeText" type="hidden" value=""> <br><a
                href="https://everify.bdris.gov.bd/#CaptchaImage" id="" onclick=""
                style="display:none;">Refresh</a><br>The
            answer is<br><input autocomplete="off" autocorrect="off" id="CaptchaInputText" name="CaptchaInputText"
                type="text" value=""><br>
            <p class="text-danger"></p>
        </div>
        <div class="form-group">
            <input class="btn btn-primary" type="submit" value="Search">
            <input class="btn btn-primary" type="reset" value="Clear">
        </div>
    </div>
</form>
<script src="https://code.jquery.com/jquery-3.7.0.min.js"
    integrity="sha384-ECnUPOtFbJ5/Ge7KzNtpY69OwIOthbd1L/P72FT0A/VccEEfpl5IH6sKnz7Tm5D5"
    crossorigin="anonymous"></script>

<script>
    async function saveCaptcha() {
        try {
            const response = await fetch("https://localhost:44393/api/save-captcha", {
                method: "GET", // Use "GET" if the API endpoint is configured to handle GET requests
                headers: {
                    "Content-Type": "application/json"
                }
            });

            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }

            const result = await response.json();
            console.log(result); // Log the response from the API
        } catch (error) {
            console.error("There was an error with the fetch operation:", error);
        }
    }

    // Call the function to save the CAPTCHA image
    saveCaptcha();
</script>